# ğŸ® Pokemon Master Set Tracker - Visual Overview

## Application Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SPLASH SCREEN                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                             â”‚
        â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ LOGIN  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ REGISTER â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ SUCCESS
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         MAIN APP (Bottom Nav)           â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  [ HOME ]  [ FAVORITES ]  [ COLLECTION ]â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚         â”‚                â”‚
         â”‚         â”‚                â”‚
         â–¼         â–¼                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ SEARCH â”‚ â”‚FAVORITESâ”‚    â”‚COLLECTION â”‚
    â”‚ BROWSE â”‚ â”‚ MANAGE  â”‚    â”‚   VIEW    â”‚
    â”‚ CARDS  â”‚ â”‚POKEMON  â”‚    â”‚   STATS   â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚          â”‚               â”‚
         â–¼          â–¼               â–¼
    CARD DETAIL  FAVORITES LIST  COLLECTION STATS
        â”‚              â”‚              â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚                             â”‚
        â–¼ ADD TO COLLECTION           â–¼ VIEW PRICES
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   CONDITION  â”‚           â”‚  GRADING     â”‚
    â”‚   SELECTION  â”‚           â”‚  DETAILS     â”‚
    â”‚   PRICE SET  â”‚           â”‚  PRICE RANGE â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Architecture

```
                          USER INPUT
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                           â”‚
                â–¼                           â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    COMPOSABLE â”‚          â”‚  VIEW MODEL  â”‚
        â”‚    (Screen)   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  (Logic)     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â–²                         â”‚
                â”‚                         â–¼
         STATE UPDATE          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚              â”‚  REPOSITORY      â”‚
                â”‚              â”‚  (Data Layer)    â”‚
                â”‚              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                â”‚                   â”‚      â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
                                    â”‚      â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”  â”Œâ”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â–¼             â–¼  â–¼             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ROOM  â”‚    â”‚ RETROFIT â”‚    â”‚ NETWORK â”‚
                    â”‚   DB   â”‚    â”‚   API    â”‚    â”‚  (REST) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Screen Hierarchy

```
LOGIN/REGISTER SCREENS
â”œâ”€â”€ LoginScreen
â”‚   â”œâ”€â”€ Email Input
â”‚   â”œâ”€â”€ Password Input
â”‚   â””â”€â”€ Login Button
â”‚
â””â”€â”€ RegisterScreen
    â”œâ”€â”€ Email Input
    â”œâ”€â”€ Username Input
    â”œâ”€â”€ Password Input
    â””â”€â”€ Register Button

MAIN APP (Navigation)
â”œâ”€â”€ HOME SCREEN
â”‚   â”œâ”€â”€ Search Bar
â”‚   â”‚   â”œâ”€â”€ Pokemon Name Input
â”‚   â”‚   â”œâ”€â”€ Language Toggle (EN/JA)
â”‚   â”‚   â””â”€â”€ Search Button
â”‚   â””â”€â”€ Results Grid
â”‚       â”œâ”€â”€ CardItem #1
â”‚       â”‚   â”œâ”€â”€ Image
â”‚       â”‚   â”œâ”€â”€ Name
â”‚       â”‚   â”œâ”€â”€ Card #
â”‚       â”‚   â”œâ”€â”€ Rarity
â”‚       â”‚   â”œâ”€â”€ Status (Owned/Missing)
â”‚       â”‚   â””â”€â”€ Favorite Button
â”‚       â””â”€â”€ CardItem #2...
â”‚
â”œâ”€â”€ FAVORITES SCREEN
â”‚   â””â”€â”€ Favorites List
â”‚       â”œâ”€â”€ FavoritePokemonCard #1
â”‚       â”‚   â”œâ”€â”€ Pokemon Name
â”‚       â”‚   â”œâ”€â”€ View Cards Button
â”‚       â”‚   â””â”€â”€ Remove Button
â”‚       â””â”€â”€ FavoritePokemonCard #2...
â”‚
â””â”€â”€ COLLECTION SCREEN
    â”œâ”€â”€ CollectionHeader
    â”‚   â”œâ”€â”€ Cards Owned (Count)
    â”‚   â”œâ”€â”€ Total Cards (Count)
    â”‚   â””â”€â”€ Completion % (Progress Bar)
    â””â”€â”€ Collection List
        â”œâ”€â”€ CollectionCardItem #1
        â”‚   â”œâ”€â”€ Card ID
        â”‚   â”œâ”€â”€ Condition
        â”‚   â”œâ”€â”€ Grading Info
        â”‚   â””â”€â”€ Delete Button
        â””â”€â”€ CollectionCardItem #2...
```

## Component Structure

```
UI COMPONENTS
â”œâ”€â”€ CardItem (Grid Display)
â”‚   â”œâ”€â”€ Image Container
â”‚   â”œâ”€â”€ Title
â”‚   â”œâ”€â”€ Meta Info
â”‚   â”‚   â”œâ”€â”€ Card Number
â”‚   â”‚   â””â”€â”€ Rarity
â”‚   â””â”€â”€ Status Badge
â”‚
â”œâ”€â”€ CardDetailView (Full Display)
â”‚   â”œâ”€â”€ Large Image
â”‚   â”œâ”€â”€ Card Name
â”‚   â”œâ”€â”€ Details Table
â”‚   â”‚   â”œâ”€â”€ Card Number
â”‚   â”‚   â”œâ”€â”€ Card Type
â”‚   â”‚   â”œâ”€â”€ Rarity
â”‚   â”‚   â”œâ”€â”€ Artist
â”‚   â”‚   â”œâ”€â”€ Status
â”‚   â”‚   â”œâ”€â”€ Condition
â”‚   â”‚   â””â”€â”€ Price
â”‚   â””â”€â”€ Action Buttons
â”‚
â”œâ”€â”€ CollectionHeader (Stats)
â”‚   â”œâ”€â”€ Title
â”‚   â”œâ”€â”€ Stats Row
â”‚   â”‚   â”œâ”€â”€ Owned Count
â”‚   â”‚   â”œâ”€â”€ Completion %
â”‚   â”‚   â””â”€â”€ Total Count
â”‚   â””â”€â”€ Progress Bar
â”‚
â””â”€â”€ SearchSection (Input)
    â”œâ”€â”€ Search TextField
    â”œâ”€â”€ Language Buttons
    â””â”€â”€ Search Button
```

## Database Schema Visualization

```
USERS TABLE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id (TEXT) - PRIMARY KEY      â”‚
â”‚ email (TEXT)                 â”‚
â”‚ username (TEXT)              â”‚
â”‚ createdAt (LONG)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â–²         â–²
        â”‚         â”‚ (Foreign Key)
        â”‚         â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚         â”‚
        â”‚    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    â”‚ USER_CARDS TABLE                 â”‚
        â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚    â”‚ id (LONG) - PRIMARY KEY          â”‚
        â”‚    â”‚ userId (TEXT) - FK to users      â”‚
        â”‚    â”‚ cardId (TEXT) - FK to cards      â”‚
        â”‚    â”‚ isOwned (BOOLEAN)                â”‚
        â”‚    â”‚ condition (TEXT enum)            â”‚
        â”‚    â”‚ isGraded (BOOLEAN)               â”‚
        â”‚    â”‚ gradingCompany (TEXT)            â”‚
        â”‚    â”‚ grade (TEXT)                     â”‚
        â”‚    â”‚ purchasePrice (REAL)             â”‚
        â”‚    â”‚ currentPrice (REAL)              â”‚
        â”‚    â”‚ addedAt (LONG)                   â”‚
        â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚         â”‚ (Foreign Key)
        â”‚         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚                            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ CARDS TABLE                â”‚    â”‚ FAVORITE_POKEMON TABLE   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ id (TEXT) - PRIMARY KEY    â”‚    â”‚ id (LONG) - PRIMARY KEY  â”‚
    â”‚ name (TEXT)                â”‚    â”‚ userId (TEXT) - FK       â”‚
    â”‚ supertype (TEXT)           â”‚    â”‚ pokemonName (TEXT)       â”‚
    â”‚ subtypes (TEXT)            â”‚    â”‚ addedAt (LONG)           â”‚
    â”‚ hp (TEXT)                  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ types (TEXT)               â”‚
    â”‚ rarity (TEXT)              â”‚
    â”‚ set (TEXT)                 â”‚
    â”‚ image (TEXT - JSON)        â”‚
    â”‚ number (TEXT)              â”‚
    â”‚ artist (TEXT)              â”‚
    â”‚ tcgplayer (TEXT - JSON)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## State Flow Architecture

```
CARD SCREEN STATE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CardUiState                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ cards: List<Card> = []              â”‚
â”‚ loading: Boolean = false            â”‚
â”‚ error: String? = null               â”‚
â”‚ selectedCard: Card? = null          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼ (StateFlow)
      ViewModel
          â”‚
          â”œâ”€â–º searchPokemonCards()
          â”‚   â””â”€â–º API Call
          â”‚       â”œâ”€â–º Cache to DB
          â”‚       â””â”€â–º Update State
          â”‚
          â””â”€â–º selectCard()
              â””â”€â–º Update selectedCard

COLLECTION SCREEN STATE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UserCollectionUiState                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ userCards: List<UserCard> = []       â”‚
â”‚ ownedCount: Int = 0                  â”‚
â”‚ totalCount: Int = 0                  â”‚
â”‚ completionPercentage: Float = 0f     â”‚
â”‚ loading: Boolean = false             â”‚
â”‚ error: String? = null                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼ (StateFlow)
      ViewModel
          â”‚
          â”œâ”€â–º markCardAsOwned()
          â”‚   â””â”€â–º Update DB
          â”‚       â””â”€â–º Recalc Stats
          â”‚
          â””â”€â–º updateCardDetails()
              â””â”€â–º Update DB
```

## API Request/Response Flow

```
USER ACTION (Search for "Pikachu")
        â”‚
        â–¼
   ViewModel
   (CardViewModel.searchPokemonCards())
        â”‚
        â–¼
   Repository
   (searchPokemonCards("Pikachu", "en"))
        â”‚
        â”œâ”€â–º Network Check
        â”‚
        â–¼
   Retrofit Client
        â”‚
        â”œâ”€â–º Build Request
        â”‚   GET /cards?q=name:Pikachu language:en
        â”‚
        â”œâ”€â–º Send Request
        â”‚   (OkHttp)
        â”‚
        â””â”€â–º Handle Response
            â”œâ”€â–º 200 OK
            â”‚   â”œâ”€â–º Parse JSON
            â”‚   â”œâ”€â–º Create Card objects
            â”‚   â”œâ”€â–º Cache to Room
            â”‚   â””â”€â–º Return List<Card>
            â”‚
            â””â”€â–º Error
                â”œâ”€â–º Log error
                â”œâ”€â–º Try fallback (cached data)
                â””â”€â–º Return error to ViewModel

ViewModel Updates State
        â”‚
        â–¼
CardUiState(cards = [...], loading = false)
        â”‚
        â–¼
StateFlow emits new value
        â”‚
        â–¼
Compose recomposes
        â”‚
        â–¼
LazyVerticalGrid updated with new cards
        â”‚
        â–¼
USER SEES RESULTS
```

## Authentication Flow

```
NEW USER JOURNEY
â”œâ”€ RegisterScreen opens
â”‚  â”œâ”€ User enters email
â”‚  â”œâ”€ User enters username
â”‚  â”œâ”€ User taps "Register"
â”‚  â”‚
â”‚  â–¼
â”‚  AuthViewModel.register(email, username)
â”‚  â”‚
â”‚  â”œâ”€ Repository.createUser()
â”‚  â”‚
â”‚  â”œâ”€ UserDao.insertUser()
â”‚  â”‚
â”‚  â””â”€ Room Database saves user
â”‚
â””â”€ AuthUiState updates
   â””â”€ isLoggedIn = true
      â””â”€ Navigate to Main App

EXISTING USER JOURNEY
â”œâ”€ LoginScreen opens
â”‚  â”œâ”€ User enters email
â”‚  â”œâ”€ User taps "Login"
â”‚  â”‚
â”‚  â–¼
â”‚  AuthViewModel.login(email)
â”‚  â”‚
â”‚  â”œâ”€ Repository.getUserByEmail()
â”‚  â”‚
â”‚  â”œâ”€ UserDao.getUserByEmail()
â”‚  â”‚
â”‚  â””â”€ Query Room Database
â”‚
â””â”€ User found?
   â”œâ”€ YES: AuthUiState.isLoggedIn = true
   â”‚       Navigate to Main App
   â”‚
   â””â”€ NO: Show error message
```

## Dependency Injection Flow

```
HILT SETUP
â”œâ”€ @HiltAndroidApp
â”‚  â””â”€ PokemonTrackerApp
â”‚
â”œâ”€ @AndroidEntryPoint
â”‚  â””â”€ MainActivity
â”‚
â”œâ”€ @HiltViewModel
â”‚  â”œâ”€ AuthViewModel
â”‚  â”œâ”€ CardViewModel
â”‚  â”œâ”€ UserCollectionViewModel
â”‚  â””â”€ FavoritesViewModel
â”‚
â””â”€ @Module (@InstallIn(SingletonComponent::class))
   â””â”€ AppModule
      â”œâ”€ @Provides Database
      â”‚  â””â”€ PokemonTrackerDatabase
      â”‚
      â”œâ”€ @Provides APIs
      â”‚  â”œâ”€ OkHttpClient
      â”‚  â””â”€ PokemonTCGApi
      â”‚
      â”œâ”€ @Provides DAOs
      â”‚  â”œâ”€ CardDao
      â”‚  â”œâ”€ UserCardDao
      â”‚  â”œâ”€ FavoritePokemonDao
      â”‚  â””â”€ UserDao
      â”‚
      â””â”€ @Provides Repository
         â””â”€ PokemonRepository
            â”œâ”€ Injected PokemonTCGApi
            â”œâ”€ Injected All DAOs
            â””â”€ Used by ViewModels
```

## Image Loading Pipeline

```
AsyncImage Composable
        â”‚
        â”œâ”€ URL from Card.image.large
        â”‚
        â”œâ”€ Coil Image Loader
        â”‚
        â””â”€â–º Memory Cache Check
            â”‚
            â”œâ”€ HIT: Return cached bitmap
            â”‚
            â””â”€ MISS: Network Request
                â”‚
                â”œâ”€ Disk Cache Check
                â”‚   â”œâ”€ HIT: Load from disk
                â”‚   â””â”€ MISS: Download from URL
                â”‚
                â”œâ”€ Show Placeholder
                â”‚
                â”œâ”€ Network Request
                â”‚   GET image URL from API
                â”‚
                â”œâ”€ Download image
                â”‚
                â”œâ”€ Save to disk cache
                â”‚
                â””â”€ Decode bitmap
                   â”‚
                   â”œâ”€ Save to memory cache
                   â”‚
                   â””â”€ Display in UI
```

## Completion Percentage Calculation

```
SCENARIO: User has 25 Pikachu cards total
         User owns 15 Pikachu cards

CALCULATION:
1. Get all user cards for Pikachu
   userCards = [25 UserCard objects]

2. Count owned cards
   ownedCount = 15

3. Calculate percentage
   completionPercentage = (15 / 25) Ã— 100
                        = 0.6 Ã— 100
                        = 60%

4. Display result
   "60% Complete"
   "15 / 25 Owned"
   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]
   
UPDATED WHEN:
- User marks card as owned
- User marks card as missing
- New cards added to collection
```

## Condition State Machine

```
NEW CARD IN COLLECTION
        â”‚
        â”œâ”€ condition: UNKNOWN (default)
        â”‚
        â–¼ (User selects condition)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CARD CONDITION OPTIONS     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ MINT                      â”‚
â”‚ â€¢ NEAR_MINT (Most Common)   â”‚
â”‚ â€¢ LIGHTLY_PLAYED            â”‚
â”‚ â€¢ MODERATELY_PLAYED         â”‚
â”‚ â€¢ HEAVILY_PLAYED            â”‚
â”‚ â€¢ DAMAGED                   â”‚
â”‚ â€¢ UNKNOWN                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼ (Save to UserCard)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PRICE MAPPING              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Condition â†’ Price Field     â”‚
â”‚ â€¢ MINT â†’ low               â”‚
â”‚ â€¢ NEAR_MINT â†’ mid          â”‚
â”‚ â€¢ LIGHTLY_PLAYED â†’ mid     â”‚
â”‚ â€¢ DAMAGED â†’ low/discount   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Color Palette System

```
PRIMARY COLORS
â”œâ”€ Primary (Orange): #FF5722
â”œâ”€ Primary Dark: #E64A19
â”œâ”€ Accent (Yellow): #FFEB3B
â””â”€ Background: #FAFAFA

POKEMON TYPE COLORS
â”œâ”€ Fire: #FDA113
â”œâ”€ Water: #87CEEB
â”œâ”€ Grass: #78C850
â”œâ”€ Electric: #FFDD33
â”œâ”€ Psychic: #F85888
â”œâ”€ Normal: #A8A878
â”œâ”€ Fighting: #C03028
â”œâ”€ Flying: #A890F0
â”œâ”€ Poison: #A040A0
â”œâ”€ Ground: #E0C068
â”œâ”€ Rock: #B8A038
â”œâ”€ Bug: #A8B820
â”œâ”€ Ghost: #705898
â”œâ”€ Steel: #B8B8D0
â”œâ”€ Ice: #98D8D8
â”œâ”€ Dragon: #7038F8
â”œâ”€ Dark: #705848
â””â”€ Fairy: #EE99AC
```

## Project Size & Metrics

```
CODEBASE METRICS
â”œâ”€ Total Kotlin Files: 23
â”œâ”€ Total Lines of Code: ~2,000
â”œâ”€ Largest File: PokemonRepository.kt (~200 lines)
â”œâ”€ Avg File Size: ~85 lines
â”‚
â”œâ”€ Classes: 30+
â”œâ”€ Data Classes: 12
â”œâ”€ ViewModels: 4
â”œâ”€ DAOs: 4
â”œâ”€ Composables: 15+
â””â”€ Functions: 100+

DEPENDENCY METRICS
â”œâ”€ Total Dependencies: 23
â”œâ”€ Core Libraries: 7
â”œâ”€ AndroidX Libraries: 8
â”œâ”€ Testing Libraries: 4
â””â”€ Optional Libraries: 4

DOCUMENTATION METRICS
â”œâ”€ Total Documents: 8
â”œâ”€ Total Pages: 40+
â”œâ”€ Code Examples: 50+
â”œâ”€ Diagrams: 5+
â””â”€ Total Words: 15,000+
```

---

**Visual Overview Complete** âœ¨  
Ready for development and extension!
